<template>
  <div class="container mt-4">

    <p class="text-primary page-title">New Warehouse Transfer</p>

    <div class="card-page">
      <!-- Steps Header -->
      <div class="steps-header">
        <div
          v-for="(step, index) in steps"
          :key="step.id"
          class="step-element"
        >
          <!-- Step Circle with Icon -->
          <div
            class="step-circle d-flex align-items-center justify-content-center text-white"
            :class="currentStep >= index  ? 'bg-primary opacity-100' : 'bg-secondary opacity-25'"
          >
            <!-- Dynamic Icon based on step -->
            <div class="step-icon" v-html="step.icon"></div>
          </div>

          <!-- Step Label -->
          <div class="step-label">
            <p class="step-number" :class="currentStep >= index  ? 'opacity-100' : 'opacity-25'">Step {{ index + 1 }}</p>
            <p class="step-desc" :class="currentStep >= index  ? 'text-primary opacity-100' : 'text-secondary opacity-25'">{{ step.label }}</p>
          </div>
        </div>
      </div>

      <!-- Step Content -->
      <div class="step-content">
        <!-- Step 1: shipping -->
        <div v-if="currentStep === 0" class="p-3">
          step 1 content
        </div>

        <!-- Step 2: Warehouses & Products -->
        <div v-else-if="currentStep === 1" class="p-3">
          step 2 content
        </div>

        <!-- Step 3: Settings -->
        <div v-else-if="currentStep === 2" class="p-3">
          step 3 content
        </div>

        <!-- Step 4: Review -->
        <div v-else-if="currentStep === 3" class="p-3">
          step 4 content
        </div>
      </div>

      <!-- Navigation Buttons -->
      <div class="d-flex justify-content-center gap-3 mt-4">
        <button
          class="btn btn-primary-tonal btn-lg"
          @click="previousStep"
        >
          {{ currentStep > 0 ? "Previous":"Cancel" }}
        </button>
        <button
          v-if="currentStep < steps.length - 1"
          class="btn btn-primary btn-lg w-25"
          @click="nextStep"
        >
          Next
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.4692 5.46967C13.7621 5.17678 14.2369 5.17678 14.5298 5.46967L20.5298 11.4697C20.8227 11.7626 20.8227 12.2374 20.5298 12.5303L14.5298 18.5303C14.2369 18.8232 13.7621 18.8232 13.4692 18.5303C13.1763 18.2374 13.1763 17.7626 13.4692 17.4697L18.1889 12.75H3.99951C3.5853 12.75 3.24951 12.4142 3.24951 12C3.24951 11.5858 3.5853 11.25 3.99951 11.25H18.1889L13.4692 6.53033C13.1763 6.23744 13.1763 5.76256 13.4692 5.46967Z" fill="white"/>
         </svg>
        </button>

        <button
          v-else
          class="btn btn-success btn-lg"
          @click="finish"
        >
          Finish
        </button>
      </div>
    </div>

  </div>
</template>

<script setup>
import { ref } from 'vue'

// data
const currentStep = ref(0)

const steps = ref([
  {
    id: 1,
    label: 'Shipping Company',
    icon:  `<svg width="23" height="20" viewBox="0 0 23 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.2603 1.25309L4.29904 1.25309C3.65978 1.25303 3.08542 1.25297 2.62053 1.31515C2.11298 1.38304 1.59227 1.54067 1.16576 1.96498C0.925226 2.20427 0.769953 2.47335 0.66803 2.75308L7.20016 2.75308C8.4428 2.75308 9.45016 3.76044 9.45016 5.00308C9.45016 6.20518 8.50745 7.18711 7.321 7.24989C7.40463 7.48538 7.45016 7.73891 7.45016 8.00308C7.45016 9.24572 6.4428 10.2531 5.20016 10.2531L0.450162 10.2531L0.450162 12.9589C0.450139 13.3796 0.450115 13.7582 0.478705 14.072C0.509398 14.4089 0.579103 14.7654 0.777489 15.1073C0.991922 15.4767 1.30035 15.7836 1.67176 15.9969C2.01537 16.1943 2.69367 16.283 3.03232 16.3136C3.44991 17.7237 4.76102 18.7531 6.31379 18.7531C7.86326 18.7531 9.17209 17.7281 9.59259 16.3225L12.8077 16.3225C13.2282 17.7281 14.537 18.7531 16.0865 18.7531C17.6359 18.7531 18.9448 17.7281 19.3653 16.3226C20.475 16.185 21.793 15.2966 21.9314 14.1926C21.9504 14.0406 21.9503 13.8744 21.9501 13.7047L21.9501 10.9753C21.9501 7.1007 18.9124 3.93194 15.0769 3.69755C15.0087 3.19262 14.8201 2.3893 14.3936 1.96498C13.9671 1.54067 13.4464 1.38304 12.9389 1.31515C12.474 1.25297 11.8996 1.25303 11.2603 1.25309ZM15.1099 12.0881C15.4196 11.9964 15.7476 11.9472 16.0872 11.9472C17.6367 11.9472 18.9455 12.9722 19.366 14.3777C19.8081 14.3777 19.9963 14.1923 19.9963 13.8917L19.9963 10.975C19.9963 8.18566 17.8495 5.89516 15.1099 5.64957L15.1099 12.0881ZM6.3145 13.8917C5.5049 13.8917 4.8486 14.5446 4.8486 15.35C4.8486 16.1554 5.5049 16.8083 6.3145 16.8083C7.1241 16.8083 7.78041 16.1554 7.78041 15.35C7.78041 14.5446 7.1241 13.8917 6.3145 13.8917ZM14.6213 15.35C14.6213 14.5446 15.2776 13.8917 16.0872 13.8917C16.8968 13.8917 17.5531 14.5446 17.5531 15.35C17.5531 16.1554 16.8968 16.8083 16.0872 16.8083C15.2776 16.8083 14.6213 16.1554 14.6213 15.35Z" fill="currentColor"/>
    <path d="M1.20016 4.25308C0.785948 4.25308 0.450162 4.58887 0.450162 5.00308C0.450162 5.4173 0.785947 5.75308 1.20016 5.75308L7.20016 5.75308C7.61438 5.75308 7.95016 5.4173 7.95016 5.00308C7.95016 4.58887 7.61438 4.25308 7.20016 4.25308L1.20016 4.25308Z" fill="currentColor"/>
    <path d="M1.20016 7.25308C0.785948 7.25308 0.450161 7.58887 0.450161 8.00308C0.450161 8.4173 0.785948 8.75308 1.20016 8.75308L5.20016 8.75308C5.61438 8.75308 5.95016 8.4173 5.95016 8.00308C5.95016 7.58887 5.61438 7.25308 5.20016 7.25308L1.20016 7.25308Z" fill="currentColor"/>
    </svg>
      `
  },
  {
    id: 2,
    label: 'Warehouses & Products',
    icon: `<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.78356 17.1647L2.78356 6.5034C2.78356 5.7076 3.34883 5.21936 3.79897 4.92169C4.24855 4.62439 4.88755 4.32174 5.61229 3.97848L8.72444 2.50407C10.2891 1.7619 11.3611 1.2534 12.5336 1.2534C13.706 1.2534 14.7781 1.7619 16.3427 2.50407L19.4548 3.97844C20.1795 4.32172 20.8186 4.62438 21.2682 4.92169C21.7183 5.21936 22.2836 5.7076 22.2836 6.5034L22.2836 17.1647C22.2836 18.2851 21.4662 19.0302 20.4602 19.6339C19.4419 20.245 17.7325 20.9671 15.8394 21.7667C14.4204 22.3667 13.5056 22.7534 12.5336 22.7534C11.5615 22.7534 10.6467 22.3667 9.22769 21.7667C7.33459 20.9671 5.62528 20.245 4.60689 19.6339C3.60091 19.0302 2.78356 18.2851 2.78356 17.1647ZM5.86291 11.6679C6.04815 11.2974 6.49865 11.1472 6.86914 11.3325L8.86914 12.3325C9.23962 12.5177 9.38979 12.9682 9.20455 13.3387C9.0193 13.7092 8.5688 13.8593 8.19832 13.6741L6.19832 12.6741C5.82783 12.4889 5.67766 12.0384 5.86291 11.6679ZM12.5336 3.16356C11.8639 3.16356 11.2183 3.44465 9.37609 4.31739L6.52792 5.66667C5.71722 6.05073 5.20933 6.29404 4.89099 6.50447C5.20933 6.7149 5.71722 6.95821 6.52792 7.34226L7.60225 7.85122L15.2484 4.10833C13.7395 3.39908 13.1467 3.16356 12.5336 3.16356ZM17.465 5.15772L9.81884 8.9006C11.3278 9.60985 11.9206 9.84538 12.5336 9.84538C13.2033 9.84538 13.8489 9.56429 15.6912 8.69155L18.5394 7.34227C19.35 6.95821 19.8579 6.7149 20.1763 6.50447C19.8579 6.29404 19.35 6.05073 18.5394 5.66667L17.465 5.15772Z" fill="currentColor"/>
    </svg>
      `
  },
  {
    id: 3,
    label: 'Settings',
    icon: `<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.73473 2.01281C8.45034 1.97473 8.21057 2.057 8.04735 2.12823C7.89729 2.19371 7.72801 2.28929 7.56378 2.38202L5.31462 3.67052C5.16881 3.77367 4.97179 3.93788 4.8587 4.2036C4.73524 4.4937 4.77507 4.78607 4.8044 4.95519C4.83613 5.13818 4.90197 5.39014 4.96498 5.63124C5.36122 7.14805 4.39331 8.77977 2.82643 9.19969L2.79883 9.20709C2.56177 9.27059 2.33965 9.3301 2.16592 9.39273C2.0034 9.45133 1.73178 9.56132 1.54037 9.80965C1.36447 10.0379 1.31785 10.288 1.2995 10.465C1.28257 10.6283 1.28262 10.8236 1.28266 11.0136V12.9928C1.28262 13.1828 1.28257 13.3781 1.2995 13.5414C1.31784 13.7184 1.36447 13.9685 1.54035 14.1967C1.73175 14.4451 2.00336 14.5551 2.16588 14.6137C2.3396 14.6763 2.82639 14.8068 2.82639 14.8068C4.39268 15.2266 5.35996 16.858 4.96348 18.375C4.96348 18.375 4.83458 18.868 4.80282 19.051C4.77347 19.2202 4.73362 19.5125 4.85707 19.8027C4.97015 20.0684 5.16718 20.2326 5.31301 20.3358L7.56218 21.6243C7.72636 21.717 7.89578 21.8127 8.0458 21.8781C8.20904 21.9494 8.44883 22.0316 8.73325 21.9935C9.04242 21.9521 9.2716 21.7756 9.40338 21.6654C9.5433 21.5484 9.89514 21.1994 9.89514 21.1994C10.4786 20.6207 11.2556 20.3313 12.0327 20.3311C12.8097 20.3313 13.5867 20.6207 14.1702 21.1994C14.1702 21.1994 14.522 21.5484 14.6619 21.6654C14.7937 21.7756 15.0229 21.9521 15.3321 21.9935C15.6165 22.0316 15.8563 21.9494 16.0195 21.8781C16.1695 21.8127 16.3388 21.7171 16.503 21.6244L18.7523 20.3358C18.8981 20.2326 19.0952 20.0684 19.2082 19.8027C19.3317 19.5125 19.2918 19.2202 19.2625 19.051C19.2307 18.868 19.1018 18.375 19.1018 18.375C18.7053 16.858 19.6726 15.2266 21.2389 14.8068C21.2389 14.8068 21.7257 14.6763 21.8994 14.6137C22.0619 14.5551 22.3336 14.4451 22.525 14.1967C22.7008 13.9685 22.7475 13.7184 22.7658 13.5414C22.7827 13.3781 22.7827 13.1828 22.7826 12.9928V11.0136C22.7827 10.8236 22.7827 10.6283 22.7658 10.465C22.7475 10.288 22.7008 10.0379 22.5249 9.80965C22.3335 9.56132 22.0619 9.45133 21.8994 9.39273C21.7257 9.3301 21.5035 9.27059 21.2665 9.20709L21.2389 9.19969C19.672 8.77977 18.7041 7.14805 19.1003 5.63124C19.1633 5.39014 19.2292 5.13818 19.2609 4.95519C19.2902 4.78607 19.3301 4.4937 19.2066 4.2036C19.0935 3.93788 18.8965 3.77367 18.7507 3.67052L16.5015 2.38202C16.3373 2.28929 16.168 2.19371 16.018 2.12823C15.8547 2.057 15.615 1.97473 15.3306 2.01281C15.0214 2.05421 14.7922 2.23066 14.6604 2.34083C14.5205 2.4578 14.1686 2.80682 14.1686 2.80682C13.5856 3.38498 12.8091 3.67416 12.0327 3.67437C11.2562 3.67416 10.4798 3.38498 9.8967 2.80682C9.8967 2.80682 9.54479 2.4578 9.40486 2.34083C9.27308 2.23066 9.0439 2.05421 8.73473 2.01281ZM12.0327 15.5032C13.9657 15.5032 15.5327 13.9362 15.5327 12.0032C15.5327 10.0702 13.9657 8.50318 12.0327 8.50318C10.0997 8.50318 8.53265 10.0702 8.53265 12.0032C8.53265 13.9362 10.0997 15.5032 12.0327 15.5032Z" fill="currentColor"/>
    </svg>
      `
  },
  {
    id: 4,
    label: 'Review',
    icon: `<svg width="25" height="24" view="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12.6992 2.25317C15.7517 2.25317 18.453 3.62788 20.3386 4.93038C21.291 5.58821 22.0604 6.24497 22.5929 6.73831C22.8527 6.97897 23.2774 7.41485 23.4323 7.57388L23.4442 7.58609C23.8126 7.99754 23.7777 8.62974 23.3663 8.99816C22.9551 9.36633 22.3235 9.33175 21.955 8.9211C21.8324 8.79534 21.473 8.42716 21.2338 8.20554C20.7543 7.76138 20.0592 7.16814 19.2019 6.57597C17.4683 5.37847 15.1696 4.25317 12.6992 4.25317C10.2288 4.25317 7.93012 5.37847 6.19649 6.57597C5.33919 7.16814 4.64411 7.76138 4.16463 8.20554C3.92538 8.42716 3.56676 8.79447 3.44422 8.92023L3.44344 8.9211C3.07492 9.33175 2.44329 9.36633 2.03213 8.99816C1.62069 8.62974 1.58581 7.99754 1.95423 7.58609L1.96601 7.574C2.12084 7.41507 2.54563 6.97903 2.80549 6.73831C3.33807 6.24497 4.10746 5.58821 5.0598 4.93038C6.94545 3.62788 9.64676 2.25317 12.6992 2.25317Z" fill="currentColor"/>
      <path d="M12.6992 16.0031C11.5946 16.0031 10.6992 15.1077 10.6992 14.0031C10.6992 12.8985 11.5946 12.0031 12.6992 12.0031C13.8038 12.0031 14.6992 12.8985 14.6992 14.0031C14.6992 15.1077 13.8038 16.0031 12.6992 16.0031Z" fill="currentColor"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.21951 8.7161C7.92516 7.38452 10.1286 6.25311 12.6992 6.25311C15.2698 6.25311 17.4733 7.38452 19.1789 8.7161C20.8861 10.0489 22.2012 11.6971 22.907 12.6868C23.1602 13.0389 23.4492 13.4409 23.4492 14.0031C23.4492 14.5653 23.1602 14.9673 22.907 15.3194C22.2012 16.3092 20.8861 17.9574 19.1789 19.2901C17.4733 20.6217 15.2698 21.7531 12.6992 21.7531C10.1286 21.7531 7.92516 20.6217 6.21951 19.2901C4.51233 17.9574 3.19725 16.3092 2.4914 15.3194C2.23824 14.9673 1.9492 14.5653 1.9492 14.0031C1.9492 13.4409 2.23824 13.0389 2.4914 12.6868C3.19725 11.6971 4.51233 10.0489 6.21951 8.7161ZM8.6992 14.0031C8.6992 16.2123 10.4901 18.0031 12.6992 18.0031C14.9083 18.0031 16.6992 16.2123 16.6992 14.0031C16.6992 11.794 14.9083 10.0031 12.6992 10.0031C10.4901 10.0031 8.6992 11.794 8.6992 14.0031Z" fill="currentColor"/>
      </svg>
        `
  }
])

const nextStep = () => {
  if (currentStep.value < steps.value.length - 1) {
    currentStep.value++
  }
}

const previousStep = () => {
  if (currentStep.value > 0) {
    currentStep.value--
  }
}

const finish = () => {
  alert('Form submitted successfully!')
}
</script>

<style scoped>
.page-title{
  font-weight: 700;
  font-size: 24px;
  line-height: 22px;
  letter-spacing: 0px;
}
.card-page{
  border-radius: 12px;
  justify-content: space-between;
  padding: 24px 36px;
  background-color: #fff;
}
.steps-header{
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
}

.steps-header::after{
  content:"";
  position: absolute;
  top: 50%;
  left: 0;
  width: 100%;
  height: 2px;
  background: #C7CBCE;
  transform: translateY(-50%);
  z-index: 1;
}

.step-element{
  display: flex;
  justify-content: flex-start;
  align-items: center;
  position: relative;
  text-align: start;
  padding: 1rem;
  background: white;
  z-index: 2;
}

.step-circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  z-index: 2;
  transition: all 0.3s ease;
}

.step-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.step-number{
  font-weight: 400;
  font-size: 14px;
  line-height: 16px;
  margin-bottom: 0.2rem;
}
.step-label{
  background: white;
  padding-left: 1rem;
  z-index: 2;
}

.step-desc {
  font-size: 16px;
  line-height: 24px;
}

.step-content {
  padding: 1rem;
}
</style>
